# OICOMI - エリートビジネスサポートアプリ 詳細要件書

## プロジェクト概要

### サービス名
OICOMI（オイコミ）

### コンセプト
洗練されたエリートビジネスマン向けに、スケジュールを圧迫しないように日々の細かい作業タスクを登録し、タイムラインのようなUIで管理するビジネスサポートアプリ

### 技術スタック
- **フレームワーク**: React with TypeScript
- **スタイリング**: Tailwind CSS v4.0
- **UIコンポーネント**: shadcn/ui
- **アイコン**: Lucide React
- **通知**: Sonner (toast)
- **データ保存**: localStorage（フロントエンドのみ）

---

## デザインシステム

### カラーパレット
- **背景色**: `#000000` (黒)
- **テキスト色**: `#ffffff` (白)
- **キーカラー**: 淡いブルー系グラデーション
  - `from-blue-400 to-cyan-400` (opacity: 0.7)
  - テキスト: `text-blue-400 opacity-70`

### デザイン原則
1. **洗練性**: シンプルで無駄のないデザイン
2. **集中性**: 業務に集中できるよう妨げない色調
3. **スマート性**: ボタンなどの要素はできるだけ小さく
4. **視認性**: 黒背景に白文字で高コントラスト

### レイアウト構造
- **レスポンシブ**: モバイル・デスクトップ対応
- **コンテナ**: `max-w-4xl` で中央寄せ
- **スペーシング**: 一貫した余白設計

---

## UI/UX 詳細仕様

### 1. ログイン画面

#### レイアウト
- **配置**: 全画面中央配置
- **背景**: 黒色 (`bg-black`)
- **幅**: 最大 `max-w-md`

#### 要素構成
1. **ロゴエリア**
   - グラデーションロゴ (`w-12 h-12 rounded-xl`)
   - サービス名 "OICOMI" (`text-3xl font-light`)

2. **ログインフォーム**
   - メールアドレス入力 (`type="email"`)
   - パスワード入力 (`type="password"`)
   - ログインボタン（青色、両方入力時のみ有効）

3. **区切り線**
   - "または" テキスト付きボーダー

4. **ゲストログインボタン**
   - 白背景に黒文字 (`bg-white text-black`)
   - アウトラインスタイル

5. **注意書き**
   - 統計機能制限の説明文

#### インタラクション
- Enterキーでログイン実行
- バリデーション：両フィールド必須
- トースト通知でフィードバック

### 2. メインアプリケーション画面

#### ヘッダー（固定）
- **位置**: `fixed top-0` で画面上部固定
- **背景**: 黒色、下ボーダー (`border-gray-800`)
- **z-index**: 50

##### ヘッダー構成
1. **左側**: ロゴ + サービス名
2. **中央**: デジタル時計
   - 日付表示（和暦、曜日付き）
   - 時刻表示（24時間形式、等幅フォント）
   - 色: `text-blue-400 opacity-70`
3. **右側**: ユーザー情報 or ログインボタン

#### メインコンテンツエリア
- **上部マージン**: `pt-24` でヘッダー分のスペース確保

##### 1. 統計カードセクション
- **レイアウト**: 3列グリッド (`grid-cols-3`)
- **カード**: `bg-gray-900 border-gray-800`

###### カード内容
1. **登録タスク数**
   - 大きな数字表示 (`text-2xl font-mono`)
   - ラベル: "登録タスク"

2. **今日完了数**
   - ログイン時のみ表示、未ログインは "?"
   - ラベル: "今日完了"

3. **今週完了数**
   - ログイン時のみ表示、未ログインは "?"
   - ラベル: "今週完了"

##### 2. タスク入力セクション
- **レイアウト**: フレックス横並び

###### 入力要素
1. **タスクタイトル入力**
   - プレースホルダー: "新しいタスクを入力..."
   - Enterキーで追加実行
   - スタイル: `bg-gray-900 border-gray-700`

2. **想定時間入力**
   - 数値入力 (`type="number"`)
   - デフォルト: 30分
   - 範囲: 1-999分
   - 幅: `w-20`

3. **追加ボタン**
   - プラスアイコン
   - 青色 (`bg-blue-500 opacity-70`)

###### 説明テキスト
- "想定時間（分）を設定してタスクを追加"

##### 3. タスクタイムライン
- **高さ**: `h-96` で固定
- **スクロール**: `ScrollArea` で縦スクロール
- **背景**: `bg-gray-900/50`

###### タイムライン構造
- 古いタスクが上、新しいタスクが下
- 優先タスクは最上位表示
- 完了タスクは非表示

###### タスクカード構成
1. **タイムライン接続線**
   - 最初のタスク以外は上部に縦線
   - `bg-gray-700` の細線

2. **カードスタイル**
   - `bg-gray-800/50 border-gray-700`
   - アクティブ時: `ring-1 ring-blue-400`
   - 優先時: `border-blue-400/50`

3. **カード内容**
   - **インジケーター**: 青い丸 (`w-2 h-2 bg-blue-400`)
   - **タイトル**: 白文字 (`text-white`)
   - **優先バッジ**: 青色バッジ（優先タスクのみ）
   - **メタ情報**: 想定時間、作成時刻

4. **アクションボタン**
   - **実行ボタン**: 緑色、Playアイコン
   - **完了ボタン**: 青色、Checkアイコン
   - **優先ボタン**: 黄色、ArrowUpアイコン

5. **URL管理**
   - URL一覧表示（外部リンクアイコン付き）
   - URL追加フォーム（+ URL追加ボタン）

##### 4. メモ���クション
- **カード**: `bg-gray-900 border-gray-800`
- **テキストエリア**: 最小高さ100px
- **スタイル**: `bg-gray-800 border-gray-700`

---

## 機能仕様

### 1. 認証機能

#### ログイン
- **入力**: メールアドレス、パスワード
- **バリデーション**: 両フィールド必須
- **保存**: localStorage に保存
- **フィードバック**: トースト通知

#### ゲストモード
- **制限**: 統計機能は "?" 表示
- **保存**: タスクとメモは保存される

#### ログアウト
- **処理**: localStorage クリア
- **遷移**: ログイン画面に戻る

### 2. タスク管理機能

#### タスク作成
- **必須**: タイトル
- **オプション**: 想定時間（デフォルト30分）
- **自動設定**: ID、作成日時、各種フラグ

#### タスク表示
- **ソート**: 優先 > 作成日時昇順
- **フィルタ**: 未完了のみ表示
- **接続線**: タイムライン風の視覚表現

#### タスク操作
1. **実行開始**
   - タイマー起動（秒単位カウントダウン）
   - モーダルでタイマー表示
   - 他タスクは非アクティブ化

2. **完了処理**
   - 完了フラグ設定
   - 完了日時記録
   - 自動ブレイクタイム開始

3. **優先設定**
   - 最上位に移動
   - 優先バッジ表示
   - ボーダー色変更

4. **URL管理**
   - 複数URL添付可能
   - 外部リンクで開く
   - 30文字超過時は省略表示

### 3. タイマー機能

#### タスクタイマー
- **単位**: 秒
- **表示**: MM:SS または HH:MM:SS形式
- **終了**: モーダルで完了確認

#### ブレイクタイマー
- **時間**: 5分間（300秒）
- **自動開始**: タスク完了後
- **スキップ可能**: ボタンで即終了
- **表示**: MM:SS形式

### 4. 統計機能

#### 対象データ
- 登録タスク総数
- 今日完了タスク数
- 今週完了タスク数（日曜日起算）

#### 表示制御
- ログイン時: 実際の数値
- ゲスト時: "?" 表示

#### 更新タイミング
- タスク配列変更時に自動再計算

### 5. データ永続化

#### localStorage キー
- `oicomi-user`: ユーザー情報
- `oicomi-tasks`: タスク配列
- `oicomi-memo`: メモテキスト

#### データ形式
```typescript
interface User {
  id: string;
  email: string;
  isLoggedIn: boolean;
}

interface Task {
  id: string;
  title: string;
  estimatedTime: number; // 分
  urls: string[];
  isActive: boolean;
  isCompleted: boolean;
  createdAt: Date;
  completedAt?: Date;
  isPriority: boolean;
}
```

### 6. 時計機能

#### 表示内容
- **日付**: 和暦、月名、日、曜日
- **時刻**: HH:MM:SS（24時間形式）

#### 更新頻度
- 1秒間隔で自動更新

#### 表示位置
- ヘッダー中央（絶対位置指定）

---

## モーダル仕様

### 1. タスク実行タイマー
- **トリガー**: タスクの実行ボタン
- **内容**: 大きなタイマー表示、タスク名
- **終了**: 時間切れで完了確認モーダル

### 2. タスク完了確認
- **トリガー**: タイマー終了 or 完了ボタン
- **選択肢**: 完了 / キャンセル
- **完了処理**: ブレイクタイム自動開始

### 3. ブレイクタイム
- **内容**: カウントダウンタイマー
- **メッセージ**: "少し休憩しましょう"
- **操作**: スキップボタン

### 4. 追加ログイン（ヘッダーから）
- **内容**: メール・パスワード入力
- **バリデーション**: ログイン画面と同様

---

## 技術的実装詳細

### State管理
- React useState hooks
- useEffect for side effects
- useRef for timer intervals

### 型定義
- TypeScript interfaces for data structures
- Strict typing for all props and functions

### パフォーマンス考慮
- Timer cleanup on unmount
- Efficient re-renders with proper dependencies
- LocalStorage operations optimization

### エラーハンドリング
- Input validation
- LocalStorage error handling
- Timer state consistency

---

## 将来拡張可能性

### 推奨機能追加
1. **データ分析**
   - 完了時間の記録と分析
   - 生産性統計の詳細化

2. **カテゴリ管理**
   - タスクのカテゴリ分類
   - カテゴリ別統計

3. **エクスポート機能**
   - データのバックアップ
   - レポート生成

4. **キーボードショートカット**
   - 操作の高速化
   - アクセシビリティ向上

5. **ドラッグ&ドロップ**
   - タスクの並び替え
   - UI操作性向上

---

## 動作環境

### 対象ブラウザ
- Chrome (最新版)
- Firefox (最新版)
- Safari (最新版)
- Edge (最新版)

### 画面サイズ
- デスクトップ: 1024px以上
- タブレット: 768px-1023px
- モバイル: 320px-767px

### 必要機能
- localStorage 対応
- ES6+ JavaScript 対応
- CSS Grid/Flexbox 対応

---

この要件書に基づいて、他の開発者や生成AIが正確にOICOMIアプリを再現できます。全ての要素の配置、色、機能、インタラクションが詳細に記載されており、実装時の曖昧さを排除しています。